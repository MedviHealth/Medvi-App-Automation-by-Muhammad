{"name": "MEDVi Qualification Flow Automation", "status": "broken", "statusDetails": {"message": "RuntimeError: ❌ Failed to select 'Yes, I've taken a different medication for weight loss': Locator.wait_for: SyntaxError: Failed to execute 'evaluate' on 'Document': The string '//div[normalize-space(text())='Yes, I've taken a different medication for weight loss']' is not a valid XPath expression.\n    at Object.queryAll (<anonymous>:41:25)\n    at InjectedScript._queryEngineAll (<anonymous>:5163:49)\n    at InjectedScript.querySelectorAll (<anonymous>:5150:30)\n    at eval (eval at evaluate (:234:30), <anonymous>:5:35)\n    at UtilityScript.evaluate (<anonymous>:236:17)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\nCall log:\nwaiting for locator(\"iframe[title='1tAZd12DZCus']\").content_frame.locator(\"//div[normalize-space(text())='Yes, I've taken a different medication for weight loss']\") to be visible", "trace": "pages/taken_medication_page.py:39: in select_taken_medication\n    option_locator.wait_for(state=\"visible\", timeout=self.DEFAULT_TIMEOUT)\n.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py:17736: in wait_for\n    self._sync(self._impl_obj.wait_for(timeout=timeout, state=state))\n.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py:670: in wait_for\n    await self._frame.wait_for_selector(\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:323: in wait_for_selector\n    await self._channel.send(\"waitForSelector\", locals_to_params(locals()))\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:59: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:520: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.Error: Locator.wait_for: SyntaxError: Failed to execute 'evaluate' on 'Document': The string '//div[normalize-space(text())='Yes, I've taken a different medication for weight loss']' is not a valid XPath expression.\nE       at Object.queryAll (<anonymous>:41:25)\nE       at InjectedScript._queryEngineAll (<anonymous>:5163:49)\nE       at InjectedScript.querySelectorAll (<anonymous>:5150:30)\nE       at eval (eval at evaluate (:234:30), <anonymous>:5:35)\nE       at UtilityScript.evaluate (<anonymous>:236:17)\nE       at UtilityScript.<anonymous> (<anonymous>:1:44)\nE   Call log:\nE   waiting for locator(\"iframe[title='1tAZd12DZCus']\").content_frame.locator(\"//div[normalize-space(text())='Yes, I've taken a different medication for weight loss']\") to be visible\n\nDuring handling of the above exception, another exception occurred:\ntests/test_medvi_app.py:131: in test_am_i_qualified\n    taken_medication.select_taken_medication(user_data[\"taken_medication\"])\npages/taken_medication_page.py:53: in select_taken_medication\n    raise RuntimeError(msg)\nE   RuntimeError: ❌ Failed to select 'Yes, I've taken a different medication for weight loss': Locator.wait_for: SyntaxError: Failed to execute 'evaluate' on 'Document': The string '//div[normalize-space(text())='Yes, I've taken a different medication for weight loss']' is not a valid XPath expression.\nE       at Object.queryAll (<anonymous>:41:25)\nE       at InjectedScript._queryEngineAll (<anonymous>:5163:49)\nE       at InjectedScript.querySelectorAll (<anonymous>:5150:30)\nE       at eval (eval at evaluate (:234:30), <anonymous>:5:35)\nE       at UtilityScript.evaluate (<anonymous>:236:17)\nE       at UtilityScript.<anonymous> (<anonymous>:1:44)\nE   Call log:\nE   waiting for locator(\"iframe[title='1tAZd12DZCus']\").content_frame.locator(\"//div[normalize-space(text())='Yes, I've taken a different medication for weight loss']\") to be visible"}, "description": "This test verifies the complete 'Am I Qualified?' flow across all MEDVi form pages.", "steps": [{"name": "Step 1: Navigate to MEDVi and start qualification flow", "status": "passed", "steps": [{"name": "Open MEDVi home page", "status": "passed", "start": 1760361257602, "stop": 1760361259657}, {"name": "Click 'AM I QUALIFIED?' button", "status": "passed", "start": 1760361259658, "stop": 1760361260311}], "start": 1760361257602, "stop": 1760361260311}, {"name": "Step 2: Fill height and weight details", "status": "passed", "steps": [{"name": "Wait for Typeform iframe to load", "status": "passed", "parameters": [{"name": "max_retries", "value": "5"}], "start": 1760361260312, "stop": 1760361265722}, {"name": "Select feet", "status": "passed", "parameters": [{"name": "value", "value": "'6'"}], "start": 1760361265722, "stop": 1760361265965}, {"name": "Select inches", "status": "passed", "parameters": [{"name": "value", "value": "'2'"}], "start": 1760361265965, "stop": 1760361266023}, {"name": "Enter weight", "status": "passed", "parameters": [{"name": "weight", "value": "'220'"}], "start": 1760361266023, "stop": 1760361266089}, {"name": "Click 'Next' button", "status": "passed", "start": 1760361266089, "stop": 1760361266146}], "start": 1760361260312, "stop": 1760361266146}, {"name": "Step 3: Set goal weight", "status": "passed", "steps": [{"name": "Enter goal weight", "status": "passed", "parameters": [{"name": "goal_weight", "value": "'177'"}], "start": 1760361266146, "stop": 1760361266183}, {"name": "Verify motivational text is visible", "status": "passed", "start": 1760361266183, "stop": 1760361266187}, {"name": "Click 'Next' button", "status": "passed", "start": 1760361266187, "stop": 1760361266236}], "start": 1760361266146, "stop": 1760361266236}, {"name": "Step 4: Select gender and age", "status": "passed", "steps": [{"name": "Select gender", "status": "passed", "parameters": [{"name": "gender", "value": "'Male'"}], "start": 1760361266236, "stop": 1760361266269}, {"name": "Select age range", "status": "passed", "parameters": [{"name": "age", "value": "'18-28'"}], "start": 1760361266269, "stop": 1760361266831}, {"name": "Click 'Next' button", "status": "passed", "start": 1760361266831, "stop": 1760361266878}], "start": 1760361266236, "stop": 1760361266878}, {"name": "Step 5: Select experience illness", "status": "passed", "steps": [{"name": "Select experience illness option", "status": "passed", "parameters": [{"name": "experience_illness_value", "value": "'Cognition Issues'"}], "start": 1760361266879, "stop": 1760361266932}, {"name": "Click 'Next' button", "status": "passed", "start": 1760361266933, "stop": 1760361266978}], "start": 1760361266878, "stop": 1760361266978}, {"name": "Step 6: Set priority goal", "status": "passed", "steps": [{"name": "Select user goal priority", "status": "passed", "parameters": [{"name": "goal_value", "value": "'Gain Muscle'"}], "start": 1760361266978, "stop": 1760361267018}, {"name": "Click 'Next' button on Priority page", "status": "passed", "start": 1760361267018, "stop": 1760361267069}], "start": 1760361266978, "stop": 1760361267069}, {"name": "Step 7: Verify ranking section", "status": "passed", "steps": [{"name": "Verify Forbes rank image is visible", "status": "passed", "start": 1760361267069, "stop": 1760361267154}, {"name": "Click 'Next' button on Rank page", "status": "passed", "start": 1760361267154, "stop": 1760361267204}], "start": 1760361267069, "stop": 1760361267204}, {"name": "Step 8: Verify metabolic graph", "status": "passed", "steps": [{"name": "Verify metabolic graph is visible", "status": "passed", "start": 1760361267204, "stop": 1760361267314}, {"name": "Click 'Next' button on Metabolic Graph page", "status": "passed", "start": 1760361267314, "stop": 1760361267353}], "start": 1760361267204, "stop": 1760361267353}, {"name": "Step 9: Verify testimonial section", "status": "passed", "steps": [{"name": "Verify testimonial text is visible", "status": "passed", "start": 1760361267353, "stop": 1760361267357}, {"name": "Click 'Next' button on testimonial page", "status": "passed", "start": 1760361267357, "stop": 1760361267394}], "start": 1760361267353, "stop": 1760361267394}, {"name": "Step 10: Verify GLP-1 informational content", "status": "passed", "steps": [{"name": "Wait for GLP-1 graph to appear", "status": "passed", "parameters": [{"name": "max_wait", "value": "30000"}], "start": 1760361267394, "stop": 1760361273285}, {"name": "Verify GLP-1 informational content", "status": "passed", "start": 1760361273285, "stop": 1760361273310}, {"name": "Click 'Next' button on GLP-1 page", "status": "passed", "start": 1760361273310, "stop": 1760361273364}], "start": 1760361267394, "stop": 1760361273364}, {"name": "Step 11: Select reasons for weight loss", "status": "passed", "steps": [{"name": "Verify reasons heading is visible", "status": "passed", "start": 1760361273364, "stop": 1760361273368}, {"name": "Select reason for weight loss", "status": "passed", "parameters": [{"name": "reason", "value": "'I want to live longer'"}], "start": 1760361273368, "stop": 1760361273402}, {"name": "Click 'Next' button on Reasons page", "status": "passed", "start": 1760361273402, "stop": 1760361273451}], "start": 1760361273364, "stop": 1760361273452}, {"name": "Step 12: Choose weight loss expectations", "status": "passed", "steps": [{"name": "Select lose weight option", "status": "passed", "parameters": [{"name": "lose_weight_value", "value": "'I want it faster'"}], "start": 1760361273452, "stop": 1760361273502}, {"name": "Click 'Next' button on Lose Weight page", "status": "passed", "start": 1760361273502, "stop": 1760361273548}], "start": 1760361273452, "stop": 1760361273548}, {"name": "Step 13: Verify 'Analyze Metabolism' content", "status": "passed", "steps": [{"name": "Verify 'Analyze Metabolism' content is visible", "status": "passed", "start": 1760361273548, "stop": 1760361273556}, {"name": "Click 'Next' button on Analyze Metabolism page", "status": "passed", "start": 1760361273556, "stop": 1760361273593}], "start": 1760361273548, "stop": 1760361273593}, {"name": "Step 14: Complete sleep routine check", "status": "passed", "steps": [{"name": "Verify sleep routine heading is visible", "status": "passed", "start": 1760361273593, "stop": 1760361273597}, {"name": "Select sleep routine option", "status": "passed", "parameters": [{"name": "sleep_value", "value": "'Pretty Good'"}], "start": 1760361273597, "stop": 1760361273642}, {"name": "Click 'Next' button on Sleep Check page", "status": "passed", "start": 1760361273642, "stop": 1760361273679}], "start": 1760361273593, "stop": 1760361273679}, {"name": "Step 15: Set sleep hours", "status": "passed", "steps": [{"name": "Verify sleep hours question and image are visible", "status": "passed", "start": 1760361273680, "stop": 1760361276568}, {"name": "Select sleep hours option", "status": "passed", "parameters": [{"name": "sleep_hours", "value": "'8-9 hours'"}], "start": 1760361276568, "stop": 1760361276641}, {"name": "Click 'Next' button on Sleep Hours page", "status": "passed", "start": 1760361276642, "stop": 1760361276690}], "start": 1760361273679, "stop": 1760361276690}, {"name": "Step 16: Verify body review content", "status": "passed", "steps": [{"name": "Verify Body Review content", "status": "passed", "start": 1760361276690, "stop": 1760361278587}, {"name": "Click 'Next' button on Body Review page", "status": "passed", "start": 1760361278587, "stop": 1760361278644}], "start": 1760361276690, "stop": 1760361278644}, {"name": "Step 17: Verify and select health conditions", "status": "passed", "steps": [{"name": "Verify health conditions page content", "status": "passed", "start": 1760361278644, "stop": 1760361278651}, {"name": "Verify and select health condition options", "status": "passed", "parameters": [{"name": "selections", "value": "['End-stage liver disease (cirrhosis)', 'Cancer (active diagnosis, active treatment, or in remission or cancer-free for less than 5 continuous years - does not apply to non-melanoma skin cancer that was considered cured via simple excision)']"}], "start": 1760361278651, "stop": 1760361278760}, {"name": "Click 'Next' button on Health Conditions page", "status": "passed", "start": 1760361278760, "stop": 1760361278815}], "start": 1760361278644, "stop": 1760361278815}, {"name": "Step 18: Complete additional health questions", "status": "passed", "steps": [{"name": "Verify main and sub headings are visible on Additional Health Questions page", "status": "passed", "start": 1760361278815, "stop": 1760361278830}, {"name": "Verify all additional health conditions are visible", "status": "passed", "start": 1760361278830, "stop": 1760361278891}, {"name": "Select one or more health conditions", "status": "passed", "parameters": [{"name": "selections", "value": "['Sleep apnea', 'Hypertension (high blood pressure)', 'None of these']"}], "start": 1760361278891, "stop": 1760361279039}, {"name": "Click 'Next' button on Additional Health Questions page", "status": "passed", "start": 1760361279039, "stop": 1760361279087}], "start": 1760361278815, "stop": 1760361279087}, {"name": "Step 19: Select taken medication", "status": "broken", "statusDetails": {"message": "RuntimeError: ❌ Failed to select 'Yes, I've taken a different medication for weight loss': Locator.wait_for: SyntaxError: Failed to execute 'evaluate' on 'Document': The string '//div[normalize-space(text())='Yes, I've taken a different medication for weight loss']' is not a valid XPath expression.\n    at Object.queryAll (<anonymous>:41:25)\n    at InjectedScript._queryEngineAll (<anonymous>:5163:49)\n    at InjectedScript.querySelectorAll (<anonymous>:5150:30)\n    at eval (eval at evaluate (:234:30), <anonymous>:5:35)\n    at UtilityScript.evaluate (<anonymous>:236:17)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\nCall log:\nwaiting for locator(\"iframe[title='1tAZd12DZCus']\").content_frame.locator(\"//div[normalize-space(text())='Yes, I've taken a different medication for weight loss']\") to be visible\n\n", "trace": "  File \"/Users/muhammadshahriyar/Documents/medvi_app_automation/tests/test_medvi_app.py\", line 131, in test_am_i_qualified\n    taken_medication.select_taken_medication(user_data[\"taken_medication\"])\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/muhammadshahriyar/Documents/medvi_app_automation/.venv/lib/python3.13/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/Users/muhammadshahriyar/Documents/medvi_app_automation/pages/taken_medication_page.py\", line 53, in select_taken_medication\n    raise RuntimeError(msg)\n"}, "steps": [{"name": "Select taken medication option", "status": "broken", "statusDetails": {"message": "RuntimeError: ❌ Failed to select 'Yes, I've taken a different medication for weight loss': Locator.wait_for: SyntaxError: Failed to execute 'evaluate' on 'Document': The string '//div[normalize-space(text())='Yes, I've taken a different medication for weight loss']' is not a valid XPath expression.\n    at Object.queryAll (<anonymous>:41:25)\n    at InjectedScript._queryEngineAll (<anonymous>:5163:49)\n    at InjectedScript.querySelectorAll (<anonymous>:5150:30)\n    at eval (eval at evaluate (:234:30), <anonymous>:5:35)\n    at UtilityScript.evaluate (<anonymous>:236:17)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\nCall log:\nwaiting for locator(\"iframe[title='1tAZd12DZCus']\").content_frame.locator(\"//div[normalize-space(text())='Yes, I've taken a different medication for weight loss']\") to be visible\n\n", "trace": "  File \"/Users/muhammadshahriyar/Documents/medvi_app_automation/.venv/lib/python3.13/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/Users/muhammadshahriyar/Documents/medvi_app_automation/pages/taken_medication_page.py\", line 53, in select_taken_medication\n    raise RuntimeError(msg)\n"}, "parameters": [{"name": "taken_medication_value", "value": "'Yes, I've taken a different medication for weight loss'"}], "start": 1760361279087, "stop": 1760361279092}], "start": 1760361279087, "stop": 1760361279092}], "attachments": [{"name": "log", "source": "388e1da2-b4fd-4dfd-9c7f-9f49f2045e72-attachment.txt", "type": "text/plain"}], "start": 1760361257602, "stop": 1760361279092, "uuid": "f545434d-4db7-4565-a89c-a4729c8c37a8", "historyId": "35b3739487a349941805d39f98c07e26", "testCaseId": "35b3739487a349941805d39f98c07e26", "fullName": "tests.test_medvi_app#test_am_i_qualified", "labels": [{"name": "feature", "value": "Qualification Flow"}, {"name": "owner", "value": "QA Automation Team"}, {"name": "epic", "value": "MEDVi Intake Journey"}, {"name": "severity", "value": "critical"}, {"name": "tag", "value": "regression"}, {"name": "tag", "value": "ui"}, {"name": "tag", "value": "critical"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_medvi_app"}, {"name": "host", "value": "MBP-DX7CLK4MG3"}, {"name": "thread", "value": "26814-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_medvi_app"}]}